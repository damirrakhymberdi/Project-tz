<template>
  <div class="bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
      üìÖ –§–∏–ª—å—Ç—Ä –ø–æ –ø–µ—Ä–∏–æ–¥—É
    </h3>
    
    <div class="flex flex-wrap gap-3">
      <button
        v-for="period in periods"
        :key="period.value"
        @click="selectPeriod(period.value)"
        :class="[
          'filter-button',
          { 'active': dashboardStore.selectedPeriod.value === period.value }
        ]"
      >
        {{ period.label }}
      </button>
    </div>
    
    <!-- Custom Date Range (–∑–∞–≥–ª—É—à–∫–∞) -->
    <div class="mt-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg">
      <p class="text-sm text-gray-600 dark:text-gray-400">
        üöß –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö
      </p>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useDashboardStore } from '~/stores/dashboard'

const dashboardStore = useDashboardStore()

const periods = [
  { label: '–°–µ–≥–æ–¥–Ω—è', value: 'today' },
  { label: '–ù–µ–¥–µ–ª—è', value: 'week' },
  { label: '–ú–µ—Å—è—Ü', value: 'month' }
]

const selectPeriod = async (period: string) => {
  await dashboardStore.fetchSalesData(period)
}
</script>
